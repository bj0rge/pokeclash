{"version":3,"sources":["dao/appusers.ts"],"names":[],"mappings":";;AAAA,6BAA6B;AAC7B,sDAAmD;AACnD,sDAAmD;AAEnD,SAAgB,MAAM,CAAC,OAAY;IAE/B,OAAO,mBAAQ,CAAC,OAAO,CAAC;QACpB,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE;KACxB,CAAC;SACG,IAAI,CAAC,QAAQ,CAAC,EAAE;QACb,OAAO,iBAAO;aACT,MAAM,CAAC;YACJ,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE;YACb,KAAK,EAAE,OAAO,CAAC,KAAK;YACpB,GAAG,EAAE,OAAO,CAAC,GAAG;YAChB,UAAU,EAAE,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC;SACjC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC;AACX,CAAC;AAdD,wBAcC;AAED,SAAgB,OAAO;IACnB,OAAO,iBAAO;SACT,OAAO,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;AAC/C,CAAC;AAHD,0BAGC;AAED,SAAgB,KAAK,CAAC,OAAY;IAC9B,OAAO,iBAAO;SACT,OAAO,CAAC;QACL,KAAK,EAAE;YACH,KAAK,EAAE,OAAO,CAAC,KAAK;YACpB,GAAG,EAAE,OAAO,CAAC,GAAG;SACnB;QACD,OAAO,EAAE,CAAC,mBAAQ,CAAC;KACtB,CAAC,CAAC;AACX,CAAC;AATD,sBASC","file":"appusers.js","sourcesContent":["import * as uuid from 'uuid';\r\nimport { AppUser } from './../sqlz/models/appuser';\r\nimport { Language } from '../sqlz/models/language';\r\n\r\nexport function create(appUser: any): Promise<any> {\r\n\r\n    return Language.findOne({\r\n        where: { name: 'fr' },\r\n    })\r\n        .then(language => {\r\n            return AppUser\r\n                .create({\r\n                    id: uuid.v1(),\r\n                    email: appUser.email,\r\n                    pwd: appUser.pwd,\r\n                    languageId: language.get('id'),\r\n                });\r\n        });\r\n}\r\n\r\nexport function findAll(): Promise<any> {\r\n    return AppUser\r\n        .findAll({ include: [{ all: true }] });\r\n}\r\n\r\nexport function login(appUser: any): Promise<any> {\r\n    return AppUser\r\n        .findOne({\r\n            where: {\r\n                email: appUser.email,\r\n                pwd: appUser.pwd,\r\n            },\r\n            include: [Language],\r\n        });\r\n}\r\n"],"sourceRoot":"../../src"}